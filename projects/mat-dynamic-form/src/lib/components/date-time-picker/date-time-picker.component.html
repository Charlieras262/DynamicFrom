<mat-form-field [appearance]="appearance" class="col-sm-12 mat-dynamic-form-date-time-picker">
  <mat-label>{{node.placeholder}}</mat-label>

  <input id="{{node.id}}" matInput [formControl]="internalControl" (change)="processChange($event)" />

  <button id="{{node.id}}TodayIcon" mat-icon-button matSuffix (click)="showDatePicker('date')"
    [attr.aria-label]="node.placeholder" type="button">
    <mat-icon>today</mat-icon>
  </button>

  <mat-error *ngIf="node.errorMessage && internalControl.invalid && internalControl.errors">
    <a [innerHtml]="node.errorMessage | sanitizeHtml"></a>
  </mat-error>

  <mat-hint align="start" *ngIf="node.hint">
    {{node.hint}}
  </mat-hint>
</mat-form-field>

<!-- ng-container [ngTemplateOutlet]="calendarPanel"></ng-container-->

<ng-template #calendarPanel>
  <div id="{{node.id}}DateTimePicker" class="mdf-overlay-popup" (click)="$event.stopPropagation()">
    <mdf-calendar #matDFCalendar [selectedDate]="selectedDate" (dayClicked)="onDateChange($event)"
      [dateClass]="dateClass" [minDate]="node.minDate" [maxDate]="node.maxDate">
    </mdf-calendar>
  </div>
</ng-template>

<ng-template #timePanel>
  <mat-time-picker [node]="node" [selectedDate]="selectedDate"
    (selectedDateChange)="onTimeSelected($event)" (onCloseRequest)="close('time', $event)">
  </mat-time-picker>
</ng-template>